unit: option/spellbook
name: "_{Spellbook}"
inc:
  - at: '@pages'
    add:
      - page: spellbook
        order: 16
        flex: true
        contents:
          - h2: "_{Spellbook}"
          - layout: 3e
            contents:
              - repeat: 3
                contents:
                  - g:
                    contents:
                      - row:
                        contents:
                          - spacer:
                          - field: spellbook-col-#{i}-level
                            border: full
                            frame: circle
                            label: "_{Spell Level}"
                            size: large
                            width: large
                          - spacer:
                      - hr:
                      - list:
                        zebra: true
                        hr: true
                        flex: true
                        contents:
                          - repeat: 7
                            index: j
                            contents:
                              - article: spellbook-col-#{i}-spell-#{j}
                                header:
                                  - field: 'spellbook-col-#{i}-spell-#{j}'
                                    width: stretch
                                    size: large
                                    frame: none
                                    align: left
                                contents:
                                  - field: 'spellbook-col-#{i}-spell-#{j}-details'
                                    width: stretch
                                    align: left
                                    frame: none
                                    repeat: 3
                                  - row:
                                    contents:
                                      - field: 'spellbook-col-#{i}-spell-#{j}-final'
                                        width: stretch
                                        label: "_{School}"
                                      - field: 'spellbook-col-#{i}-spell-#{j}-ref'
                                        icon: book
                                        label: "_{Source}"
                                        width: large
                                        control: compound
                                        parts:
                                          - width: large
                                          - span: 'p'
                                          - width: medium
                      - tail:
                      # - spacer:
